<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Science, meet productivity, A computational RNA biologist exploring productivity, python, and reproducibility.">

        <link rel="alternate"  href="/feeds/all.atom.rss.xml" type="application/atom+xml" title="Science, meet productivity Full Atom Feed"/>
        <link rel="alternate" href="/feeds/all.rss.xml" type="application/rss+xml" title="Science, meet productivity Full RSS Feed"/>

        <title>prettyplotlib: Painlessly create beautiful matplotlibÂ plots // Science, meet productivity // A computational RNA biologist exploring productivity, python, and reproducibility.</title>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../../../../theme/css/pure.css">
    <link rel="stylesheet" href="../../../../../theme/css/pygments.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".content").fitVids();
        });
    </script>
</head>

<body>
    <div class="pure-g-r" id="layout">
        <div class="sidebar pure-u">
            <div class="cover-img" style="background-image: url('https://raw.githubusercontent.com/olgabot/olgabot.github.io-source/master/content/images/ordered_driftwood.jpg')">
                <div class="cover-body">
                    <header class="header">
                        <hgroup>
                            <img class="avatar" src="http://raw.githubusercontent.com/olgabot/olgabot.github.io-source/master/content/images/olga_icon_square.jpg">
                            <h1 class="brand-main"><a href="/">Science, meet productivity</a></h1>
                            <p class="tagline">A computational RNA biologist exploring productivity, python, and reproducibility.</p>
                                <p class="links"><a href="../../../../../archives.html">Archive</a></p>
                                <p class="links"><a href="../../../../../pages/about.html">About</a></p>
                                <p class="social">
                                    <a href="http://github.com/olgabot">
                                        <i class="fa fa-github-square fa-3x"></i>
                                    </a>
                                    <a href="http://twitter.com/olgabot">
                                        <i class="fa fa-twitter-square fa-3x"></i>
                                    </a>
                                    <a href="http://www.linkedin.com/in/olgabotvinnik/">
                                        <i class="fa fa-linkedin-square fa-3x"></i>
                                    </a>
                                <p>
                        </hgroup>
                    </header>
                </div>
            </div>
        </div>
    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>prettyplotlib: Painlessly create beautiful matplotlib&nbsp;plots</h1>
                        <p class="post-meta">
                            // under                                 <a class="post-category" href="../../../../../tag/python.html">python</a>
                                <a class="post-category" href="../../../../../tag/matplotlib.html">matplotlib</a>
                                <a class="post-category" href="../../../../../tag/prettyplotlib.html">prettyplotlib</a>
                                <a class="post-category" href="../../../../../tag/programming.html">programming</a>
                                <a class="post-category" href="../../../../../tag/data-visualization.html">data visualization</a>
                                <a class="post-category" href="../../../../../tag/dataviz.html">dataviz</a>
                        </p>
                </header>
            </section>
            <p>A while back I wrote a few tutorials about how to work with Python&#8217;s plotting library, <code>matplotlib</code>, so that it behaves nicely and produces beautiful plots. Well, I got tired of tweaking every single figure individually so I wrote this library, <a href="http://olgabot.github.io/prettyplotlib"><code>prettyplotlib</code></a> to have pretty default plots in Python&#8217;s <code>matplotlib</code>. </p>
<p>I truly believe that poor visualizations obstruct scientific progress, and this is my&nbsp;contribution.</p>
<p>A couple motivating examples are below, but if you just want an overview, check out the <a href="https://github.com/olgabot/prettyplotlib/wiki/Comparison-to-matplotlib">Comparison to matplotlib defaults</a>, <a href="https://github.com/olgabot/prettyplotlib/wiki/Gallery">Examples Gallery</a>,  and <a href="https://github.com/olgabot/prettyplotlib/wiki/Examples-with-code">Examples with code</a> on&nbsp;Github.</p>
<p>To install, do the usual <code>pip install</code> stuff:</p>
<div class="highlight"><pre><span></span>pip install prettyplotlib
</pre></div>


<p>I truly hope you enjoy using this library! If you have any comments or suggestions, let me&nbsp;know!</p>
<h1><code>prettyplotlib.scatter</code></h1>
<p>The default <code>matplotlib</code> color cycle is not pretty to look at. What&#8217;s even worse is
that if you just do a <code>scatter</code> plot, then it doesn&#8217;t cycle at all through any&nbsp;values</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="c1"># Set the random seed for consistency</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Show the whole color range</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;prettyplotlib `scatter` example</span><span class="se">\n</span><span class="s1">showing default matplotlib `scatter`&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;scatter_matplotlib_default.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib default scatterplot" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/scatter_matplotlib_default.png" /></p>
<h2>Before <code>prettyplotlib</code>: how to make nice&nbsp;plots</h2>
<p>Now I&#8217;m going to take you through <span class="caps">ALL</span> the steps I used to take to make nice
looking&nbsp;plots.</p>
<p>First, change the colors with <code>brewer2mpl</code>:</p>
<div class="highlight"><pre><span></span># Get &quot;Set2&quot; colors from ColorBrewer (all colorbrewer scales: http://bl.ocks.org/mbostock/5577023)
set2 = brewer2mpl.get_map(&#39;Set2&#39;, &#39;qualitative&#39;, 8).mpl_colors
...
color = set2[i]
ax.scatter(x, y, label=str(i), facecolor=color)
</pre></div>


<p>The full code&nbsp;is,</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">brewer2mpl</span>

<span class="c1"># Get &quot;Set2&quot; colors from ColorBrewer (all colorbrewer scales: http://bl.ocks.org/mbostock/5577023)</span>
<span class="n">set2</span> <span class="o">=</span> <span class="n">brewer2mpl</span><span class="o">.</span><span class="n">get_map</span><span class="p">(</span><span class="s1">&#39;Set2&#39;</span><span class="p">,</span> <span class="s1">&#39;qualitative&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">mpl_colors</span>

<span class="c1"># Set the random seed for consistency</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Show the whole color range</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">set2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;scatter_matplotlib_improved_01_changed_colors.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib scatter improved 01: changed colors" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/scatter_matplotlib_improved_01_changed_colors.png" /></p>
<p>This looks nice, almost like an impressionist painting, but it&#8217;s still hard to
see overlaps here. So let&#8217;s fill the symbols with <code>0.5</code> opacity using
<code>alpha=0.5</code>.</p>
<div class="highlight"><pre><span></span>ax.scatter(x, y, label=str(i), color=color, alpha=0.5)
</pre></div>


<p>The full code&nbsp;is,</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">brewer2mpl</span>

<span class="c1"># Get &quot;Set2&quot; colors from ColorBrewer (all colorbrewer scales: http://bl.ocks.org/mbostock/5577023)</span>
<span class="n">set2</span> <span class="o">=</span> <span class="n">brewer2mpl</span><span class="o">.</span><span class="n">get_map</span><span class="p">(</span><span class="s1">&#39;Set2&#39;</span><span class="p">,</span> <span class="s1">&#39;qualitative&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">mpl_colors</span>

<span class="c1"># Set the random seed for consistency</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Show the whole color range</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">set2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;scatter_matplotlib_improved_02_added_alpha.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib scatter improved 02: added alpha" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/scatter_matplotlib_improved_02_added_alpha.png" /></p>
<p>This is still pretty lovely and impressionist-y but I still didn&#8217;t like that it
was hard to see when the dots overlapped. So let&#8217;s add a black outline, and
specify that <code>color</code> is just the <code>facecolor</code>:</p>
<div class="highlight"><pre><span></span>ax.scatter(x, y, label=str(i), alpha=0.5, edgecolor=&#39;black&#39;,
facecolor=color)
</pre></div>


<p>The full code&nbsp;is,</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">brewer2mpl</span>

<span class="c1"># Get &quot;Set2&quot; colors from ColorBrewer (all colorbrewer scales: http://bl.ocks.org/mbostock/5577023)</span>
<span class="n">set2</span> <span class="o">=</span> <span class="n">brewer2mpl</span><span class="o">.</span><span class="n">get_map</span><span class="p">(</span><span class="s1">&#39;Set2&#39;</span><span class="p">,</span> <span class="s1">&#39;qualitative&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">mpl_colors</span>

<span class="c1"># Set the random seed for consistency</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Show the whole color range</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">set2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;scatter_matplotlib_improved_03_added_outline.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib scatter improved 03: added black outline" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/scatter_matplotlib_improved_03_added_outline.png" /></p>
<p>Ack, but those lines are too thick &#8230; let&#8217;s think them down to <code>linewidth=0.15</code></p>
<div class="highlight"><pre><span></span>ax.scatter(x, y, label=str(i), alpha=0.5, edgecolor=&#39;black&#39;,
facecolor=color, linewidth=0.15)
</pre></div>


<p>The full code&nbsp;is,</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">brewer2mpl</span>

<span class="c1"># Get &quot;Set2&quot; colors from ColorBrewer (all colorbrewer scales: http://bl.ocks.org/mbostock/5577023)</span>
<span class="n">set2</span> <span class="o">=</span> <span class="n">brewer2mpl</span><span class="o">.</span><span class="n">get_map</span><span class="p">(</span><span class="s1">&#39;Set2&#39;</span><span class="p">,</span> <span class="s1">&#39;qualitative&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">mpl_colors</span>

<span class="c1"># Set the random seed for consistency</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Show the whole color range</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">set2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;scatter_matplotlib_improved_04_thinned_outline.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib scatter improved 04: thinned out black outline" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/scatter_matplotlib_improved_04_thinned_outline.png" /></p>
<p><em>Now</em> we&#8217;re getting somewhere. This looks very lovely. Don&#8217;t you want to just
cuddle up with that cute&nbsp;plot?</p>
<p>What are those top and right axes lines really doing for us? They&#8217;re boxing the
data in, but we can do that with our eyes from the other axis lines. So let&#8217;s
remove the top and right axis lines using <code>ax.spines</code>:</p>
<div class="highlight"><pre><span></span># Remove top and right axes lines (&quot;spines&quot;)
spines_to_remove = [&#39;top&#39;, &#39;right&#39;]
for spine in spines_to_remove:
ax.spines[spine].set_visible(False)
</pre></div>


<p>The full code&nbsp;is,</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">brewer2mpl</span>

<span class="c1"># Get &quot;Set2&quot; colors from ColorBrewer (all colorbrewer scales: http://bl.ocks.org/mbostock/5577023)</span>
<span class="n">set2</span> <span class="o">=</span> <span class="n">brewer2mpl</span><span class="o">.</span><span class="n">get_map</span><span class="p">(</span><span class="s1">&#39;Set2&#39;</span><span class="p">,</span> <span class="s1">&#39;qualitative&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">mpl_colors</span>

<span class="c1"># Set the random seed for consistency</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Show the whole color range</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">set2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>

<span class="c1"># Remove top and right axes lines (&quot;spines&quot;)</span>
<span class="n">spines_to_remove</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">spines_to_remove</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;scatter_matplotlib_improved_05_removed_top_right_spines.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib scatter improved 05: removed top and right axis lines" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/scatter_matplotlib_improved_05_removed_top_right_spines.png" /></p>
<p>Oops, but we still have the ticks on the top and right axes. We&#8217;ll need to get
rid of them. Actually, why don&#8217;t we just get rid of all ticks altogether? We can
tell by the position of the number where it indicates, so we don&#8217;t need an
additional&nbsp;tick.</p>
<div class="highlight"><pre><span></span># Get rid of ticks. The position of the numbers is informative enough of
# the position of the value.
ax.xaxis.set_ticks_position(&#39;none&#39;)
ax.yaxis.set_ticks_position(&#39;none&#39;)
</pre></div>


<p>Here&#8217;s the full&nbsp;code:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">brewer2mpl</span>

<span class="c1"># Get &quot;Set2&quot; colors from ColorBrewer (all colorbrewer scales: http://bl.ocks.org/mbostock/5577023)</span>
<span class="n">set2</span> <span class="o">=</span> <span class="n">brewer2mpl</span><span class="o">.</span><span class="n">get_map</span><span class="p">(</span><span class="s1">&#39;Set2&#39;</span><span class="p">,</span> <span class="s1">&#39;qualitative&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">mpl_colors</span>

<span class="c1"># Set the random seed for consistency</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Show the whole color range</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">set2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>

<span class="c1"># Remove top and right axes lines (&quot;spines&quot;)</span>
<span class="n">spines_to_remove</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">spines_to_remove</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>

<span class="c1"># Get rid of ticks. The position of the numbers is informative enough of</span>
<span class="c1"># the position of the value.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;scatter_matplotlib_improved_06_removed_ticks.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib scatter improved 06: removed tick marks" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/scatter_matplotlib_improved_06_removed_ticks.png" /></p>
<p>Ahh, much better. But we won&#8217;t stop there. Now we&#8217;ll tweak the remaining pieces
of the figure. For the rest of the spines, let&#8217;s thin the line down to <code>0.5</code>
points instead of the default <code>1.0</code> points. Also, we&#8217;ll change it from pure
black to a slightly lighter dark grey. Here they are side by&nbsp;side:</p>
<div class="highlight"><pre><span></span>fig, axes = plt.subplots(2)
axes[0].set_axis_bgcolor(&#39;black&#39;)
axes[0].text(0.5, 0.5, &#39;black&#39;, color=&#39;white&#39;, fontsize=24, va=&#39;center&#39;, ha=&#39;center&#39;)
axes[1].set_axis_bgcolor(&#39;#262626&#39;)
axes[1].text(0.5, 0.5, &#39;almost black&#39;, fontsize=24, color=&#39;white&#39;, va=&#39;center&#39;, ha=&#39;center&#39;)
fig.savefig(&#39;black_vs_almost_black.png&#39;)
</pre></div>


<p><img alt="Matplotlib scatter improved 06: removed tick marks" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/black_vs_almost_black.png" /></p>
<p>So not a <em>huge</em> difference, and the dark grey still looks pretty black, but it&#8217;s
<a href="http://ianstormtaylor.com/design-tip-never-use-black/">a little more pleasant on the eyes</a> to use a dark grey instead of black. There&#8217;s very few things in
nature that are truly black. Just look at shadows! They&#8217;re just dark grey, or
blue, or red or purple. But I digress. Back to plotting&nbsp;libraries&#8230;</p>
<p>To change the x-axis and y-axis line colors, and the outlines of the scatter
symbols from black to dark grey, we&#8217;ll&nbsp;do:</p>
<div class="highlight"><pre><span></span># For remaining spines, thin out their line and change the black to a slightly off-black dark grey
almost_black = &#39;#262626&#39;
...
ax.scatter(x, y, label=str(i), alpha=0.5, edgecolor=&#39;black&#39;, facecolor=color, linewidth=0.15)`
...
spines_to_keep = [&#39;bottom&#39;, &#39;left&#39;]
for spine in spines_to_keep:
    ax.spines[spine].set_linewidth(0.5)
    ax.spines[spine].set_color(almost_black)
</pre></div>


<p>The full code&nbsp;is,</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">brewer2mpl</span>

<span class="c1"># Get &quot;Set2&quot; colors from ColorBrewer (all colorbrewer scales: http://bl.ocks.org/mbostock/5577023)</span>
<span class="n">set2</span> <span class="o">=</span> <span class="n">brewer2mpl</span><span class="o">.</span><span class="n">get_map</span><span class="p">(</span><span class="s1">&#39;Set2&#39;</span><span class="p">,</span> <span class="s1">&#39;qualitative&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">mpl_colors</span>

<span class="c1"># Set the random seed for consistency</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># Save a nice dark grey as a variable</span>
<span class="n">almost_black</span> <span class="o">=</span> <span class="s1">&#39;#262626&#39;</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Show the whole color range</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">set2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="n">almost_black</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>

<span class="c1"># Remove top and right axes lines (&quot;spines&quot;)</span>
<span class="n">spines_to_remove</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">spines_to_remove</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>

<span class="c1"># Get rid of ticks. The position of the numbers is informative enough of</span>
<span class="c1"># the position of the value.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>

<span class="c1"># For remaining spines, thin out their line and change the black to a slightly off-black dark grey</span>
<span class="n">spines_to_keep</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">spines_to_keep</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">almost_black</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;scatter_matplotlib_improved_07_axis_black_to_almost_black.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib scatter improved 07: changed axis lines from black to almost black" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/scatter_matplotlib_improved_07_axis_black_to_almost_black.png" /></p>
<p>This is nice. But if you look closely, the tick labels are still black :(  We
have to change them separately,&nbsp;using</p>
<div class="highlight"><pre><span></span># Change the labels to the off-black
ax.xaxis.label.set_color(almost_black)
ax.yaxis.label.set_color(almost_black)
</pre></div>


<p>And while we&#8217;re at it, let&#8217;s add a title and make it dark grey&nbsp;too.</p>
<div class="highlight"><pre><span></span># Change the axis title to off-black
ax.title.set_color(almost_black)

ax.set_title(&#39;prettyplotlib `scatter` example\nshowing improved matplotlib `scatter`&#39;)
</pre></div>


<p>The full code&nbsp;is,</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">brewer2mpl</span>

<span class="c1"># Get &quot;Set2&quot; colors from ColorBrewer (all colorbrewer scales: http://bl.ocks.org/mbostock/5577023)</span>
<span class="n">set2</span> <span class="o">=</span> <span class="n">brewer2mpl</span><span class="o">.</span><span class="n">get_map</span><span class="p">(</span><span class="s1">&#39;Set2&#39;</span><span class="p">,</span> <span class="s1">&#39;qualitative&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">mpl_colors</span>

<span class="c1"># Set the random seed for consistency</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># Save a nice dark grey as a variable</span>
<span class="n">almost_black</span> <span class="o">=</span> <span class="s1">&#39;#262626&#39;</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Show the whole color range</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">set2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="n">almost_black</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>

<span class="c1"># Remove top and right axes lines (&quot;spines&quot;)</span>
<span class="n">spines_to_remove</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">spines_to_remove</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>

<span class="c1"># Get rid of ticks. The position of the numbers is informative enough of</span>
<span class="c1"># the position of the value.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>

<span class="c1"># For remaining spines, thin out their line and change the black to a slightly off-black dark grey</span>
<span class="n">spines_to_keep</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">spines_to_keep</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">almost_black</span><span class="p">)</span>

<span class="c1"># Change the labels to the off-black</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">almost_black</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">almost_black</span><span class="p">)</span>

<span class="c1"># Change the axis title to off-black</span>
<span class="n">ax</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">almost_black</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;prettyplotlib `scatter` example</span><span class="se">\n</span><span class="s1">showing improved matplotlib `scatter`&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;scatter_matplotlib_improved_08_labels_black_to_almost_black.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib scatter improved 08: changed labels to almost black" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/scatter_matplotlib_improved_08_labels_black_to_almost_black.png" /></p>
<p>If you remember in the original example, we also had an axis legend,&nbsp;using</p>
<div class="highlight"><pre><span></span>ax.legend()
</pre></div>


<p>So let&#8217;s add it to this code,&nbsp;too.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">brewer2mpl</span>

<span class="c1"># Get &quot;Set2&quot; colors from ColorBrewer (all colorbrewer scales: http://bl.ocks.org/mbostock/5577023)</span>
<span class="n">set2</span> <span class="o">=</span> <span class="n">brewer2mpl</span><span class="o">.</span><span class="n">get_map</span><span class="p">(</span><span class="s1">&#39;Set2&#39;</span><span class="p">,</span> <span class="s1">&#39;qualitative&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">mpl_colors</span>

<span class="c1"># Set the random seed for consistency</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># Save a nice dark grey as a variable</span>
<span class="n">almost_black</span> <span class="o">=</span> <span class="s1">&#39;#262626&#39;</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Show the whole color range</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">set2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="n">almost_black</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>

<span class="c1"># Remove top and right axes lines (&quot;spines&quot;)</span>
<span class="n">spines_to_remove</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">spines_to_remove</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>

<span class="c1"># Get rid of ticks. The position of the numbers is informative enough of</span>
<span class="c1"># the position of the value.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>

<span class="c1"># For remaining spines, thin out their line and change the black to a slightly off-black dark grey</span>
<span class="n">almost_black</span> <span class="o">=</span> <span class="s1">&#39;#262626&#39;</span>
<span class="n">spines_to_keep</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">spines_to_keep</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">almost_black</span><span class="p">)</span>

<span class="c1"># Change the labels to the off-black</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">almost_black</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">almost_black</span><span class="p">)</span>

<span class="c1"># Change the axis title to off-black</span>
<span class="n">ax</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">almost_black</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;prettyplotlib `scatter` example</span><span class="se">\n</span><span class="s1">showing improved matplotlib `scatter`&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;scatter_matplotlib_improved_09_ugly_legend.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib scatter improved 09: added ugly legend" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/scatter_matplotlib_improved_09_ugly_legend.png" /></p>
<p>There are many things I don&#8217;t like about this&nbsp;legend.</p>
<ol>
<li>First of all, why does it have such a thick border line? What does that
really add to our interpretation of the legend? The black line is so thick that
it distracts from what we&#8217;re trying to portray - which label goes with which&nbsp;color.</li>
<li>Why does it show three points? Does this legend think I&#8217;m dumb and can&#8217;t
figure out which symbol goes with which label after one iteration, so it does it
three&nbsp;times?</li>
<li>Finally, the legend labels are pure black. Maybe you notice it too, after
comparing to x-axis and y-axis lines and&nbsp;labels.</li>
</ol>
<p>We&#8217;ll accomplish these three things using this&nbsp;code:</p>
<div class="highlight"><pre><span></span># Remove the line around the legend box, and instead fill it with a light grey
# Also only use one point for the scatterplot legend because the user will
# get the idea after just one, they don&#39;t need three.
light_grey = np.array([float(248)/float(255)]*3)
legend = ax.legend(frameon=True, scatterpoints=1, fontcolor=almost_black)
rect = legend.get_frame()
rect.set_facecolor(light_grey)
rect.set_linewidth(0.0)

# Change the legend label colors to almost black, too
texts = legend.texts
for t in texts:
    t.set_color(almost_black)
</pre></div>


<p>Now our code is pretty huge&nbsp;&#8230;</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">brewer2mpl</span>

<span class="c1"># Get &quot;Set2&quot; colors from ColorBrewer (all colorbrewer scales: http://bl.ocks.org/mbostock/5577023)</span>
<span class="n">set2</span> <span class="o">=</span> <span class="n">brewer2mpl</span><span class="o">.</span><span class="n">get_map</span><span class="p">(</span><span class="s1">&#39;Set2&#39;</span><span class="p">,</span> <span class="s1">&#39;qualitative&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">mpl_colors</span>

<span class="c1"># Set the random seed for consistency</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># Save a nice dark grey as a variable</span>
<span class="n">almost_black</span> <span class="o">=</span> <span class="s1">&#39;#262626&#39;</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Show the whole color range</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">set2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="n">almost_black</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>

<span class="c1"># Remove top and right axes lines (&quot;spines&quot;)</span>
<span class="n">spines_to_remove</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">spines_to_remove</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>

<span class="c1"># Get rid of ticks. The position of the numbers is informative enough of</span>
<span class="c1"># the position of the value.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>

<span class="c1"># For remaining spines, thin out their line and change the black to a slightly off-black dark grey</span>
<span class="n">almost_black</span> <span class="o">=</span> <span class="s1">&#39;#262626&#39;</span>
<span class="n">spines_to_keep</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">spines_to_keep</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">almost_black</span><span class="p">)</span>

<span class="c1"># Change the labels to the off-black</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">almost_black</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">almost_black</span><span class="p">)</span>

<span class="c1"># Change the axis title to off-black</span>
<span class="n">ax</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">almost_black</span><span class="p">)</span>

<span class="c1"># Remove the line around the legend box, and instead fill it with a light grey</span>
<span class="c1"># Also only use one point for the scatterplot legend because the user will </span>
<span class="c1"># get the idea after just one, they don&#39;t need three.</span>
<span class="n">light_grey</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="mi">248</span><span class="p">)</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="mi">255</span><span class="p">)]</span><span class="o">*</span><span class="mi">3</span><span class="p">)</span>
<span class="n">legend</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">frameon</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">scatterpoints</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">rect</span> <span class="o">=</span> <span class="n">legend</span><span class="o">.</span><span class="n">get_frame</span><span class="p">()</span>
<span class="n">rect</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="n">light_grey</span><span class="p">)</span>
<span class="n">rect</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>

<span class="c1"># Change the legend label colors to almost black, too</span>
<span class="n">texts</span> <span class="o">=</span> <span class="n">legend</span><span class="o">.</span><span class="n">texts</span>
<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">texts</span><span class="p">:</span>
    <span class="n">t</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">almost_black</span><span class="p">)</span>


<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;prettyplotlib `scatter` example</span><span class="se">\n</span><span class="s1">showing improved matplotlib `scatter`&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;scatter_matplotlib_improved_10_pretty_legend.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib scatter improved 10: beautiful legend" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/scatter_matplotlib_improved_10_pretty_legend.png" /></p>
<p>Aaaaaaaaaaand I got tired of doing all those steps, <span class="caps">EVERY</span> time I wanted to make a simple scatterplot. So I wrote
<a href="http://github.com/olgabot/prettyplotlib"><code>prettyplotlib</code></a>. Here&#8217;s an
illustrative example of how awesome <code>prettyplotlib</code> is, and how it will save
all the time you spent agonizing over making your <code>matplotlib</code> plots&nbsp;beautiful.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">prettyplotlib</span> <span class="kn">as</span> <span class="nn">ppl</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ppl</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="c1"># Set the random seed for consistency</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># Show the whole color range</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="kp">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="kp">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">ppl</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>

<span class="n">ppl</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;prettyplotlib `scatter` example</span><span class="se">\n</span><span class="s1">showing default color cycle and scatter params&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;scatter_prettyplotlib_default.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib scatter improved 10: beautiful legend" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/scatter_prettyplotlib_default.png" /></p>
<p>The only commands that were different from the very first example with
matplotlib&nbsp;are:</p>
<div class="highlight"><pre><span></span>ppl.scatter(ax, x, y, label=str(i), facecolor=&#39;none&#39;)
</pre></div>


<p>instead&nbsp;of:</p>
<div class="highlight"><pre><span></span>ax.scatter(x, y, label=str(i))
</pre></div>


<p>And a different legend&nbsp;command:</p>
<div class="highlight"><pre><span></span>ppl.legend(ax)
</pre></div>


<p>instead&nbsp;of:</p>
<div class="highlight"><pre><span></span>ax.legend()
</pre></div>


<p>If you <strong><em>really</em></strong> want to get the original matplotlib style back in
prettyplotlib, you can&nbsp;do:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">prettyplotlib</span> <span class="kn">as</span> <span class="nn">ppl</span>

<span class="c1"># Set the random seed for consistency</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1">#mpl.rcParams[&#39;axis.color_cycle&#39;] = [&#39;blue&#39;]</span>

<span class="c1"># Show the whole color range</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Get back the top and right axes lines (&quot;spines&quot;)</span>
<span class="n">spines_to_remove</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">spines_to_remove</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># Get back the ticks. The position of the numbers is informative enough of</span>
<span class="c1"># the position of the value.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;both&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;both&#39;</span><span class="p">)</span>

<span class="c1"># For all the spines, make their line thicker and return them to be black</span>
<span class="n">all_spines</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">all_spines</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">spine</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>

<span class="c1"># Change the labels back to black</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>

<span class="c1"># Change the axis title also back to black</span>
<span class="n">ax</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>

<span class="c1"># Remove the line around the legend box, and instead fill it with a light grey</span>
<span class="c1"># Also only use one point for the scatterplot legend because the user will </span>
<span class="c1"># get the idea after just one, they don&#39;t need three.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;prettyplotlib `scatter` example</span><span class="se">\n</span><span class="s1">revert everything back to default matplotlib parameters&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;scatter_prettyplotlib_back_to_matplotlib_default.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Prettyplotlib back to matplotlib" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/scatter_prettyplotlib_back_to_matplotlib_default.png" /></p>
<p>Notice that the default calls of <code>ax.scatter</code> and <code>ax.legend</code> do the usual
thing. This is important, because for <code>prettyplotlib</code> to work, you&#8217;ll need to
use a syntax that&#8217;s different from the usual <code>matplotlib</code> one:  <code>ppl.scatter(ax,
x, y...)</code> instead of <code>ax.scatter(x, y, ...)</code></p>
<h2><code>prettyplotlib.pcolormesh</code>: Improving heatmaps in <code>matplotlib</code></h2>
<h3>Both positive and negative&nbsp;values</h3>
<p>The default <code>matplotlib</code> <code>pcolormesh</code> heatmaps use a rainbow colormap, which has
been known to mislead data visualization. Specifically, <a href="http://www.jwave.vt.edu/~rkri
z/Projects/create_color_table/color_07.pdf"><em>&#8220;the rainbow color map
is universally inferior to all other color maps&#8221;</em></a>. Unfortunately, <code>matplotlib</code> took
its default colors from <span class="caps">MATLAB</span>, and there the default is also&nbsp;rainbow.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="c1">#ax.pcolor(np.random.randn((10,10)))</span>
<span class="c1">#ax.pcolor(np.random.randn(10), np.random.randn(10))</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;pcolormesh_matplotlib_default.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib default scatterplot" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/pcolormesh_matplotlib_default.png" /></p>
<p>Using the same zero-centered randomly distributed gaussian distribution, we can
plot it using <code>prettyplotlib</code> with a few modifications in&nbsp;syntax:</p>
<div class="highlight"><pre><span></span>ppl.pcolormesh(fig, ax, np.random.randn(10,10))
</pre></div>


<p>You&#8217;ll notice that the &#8220;hot&#8221; (large, positive) color is still red, and the
&#8220;cold&#8221; (small, negative) color is still blue, but the in between colors are
gradations of red and blue, so it&#8217;s easier to tell the difference between&nbsp;values.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">prettyplotlib</span> <span class="kn">as</span> <span class="nn">ppl</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ppl</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">ppl</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;pcolormesh_prettyplotlib_default.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib default scatterplot" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/pcolormesh_prettyplotlib_default.png" /></p>
<p>You may have also noticed similar changes as were made in <code>prettyplotlib.scatter</code>,
where axis lines were removed, and blacks were changed to almost&nbsp;black.</p>
<h3>Only positive (or negative)&nbsp;values</h3>
<p>If your data is only positive (or negative), <code>matplotlib</code> does nothing to change
the color scale. It&#8217;s still a rainbow, but look at the colorbar, the range is
different (0 to 1 instead of -2 to&nbsp;+2)</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">prettyplotlib</span> <span class="kn">as</span> <span class="nn">ppl</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ppl</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">uniform</span><span class="p">(</span><span class="kp">size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;pcolormesh_matplotlib_positive_default.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib default scatterplot" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/pcolormesh_matplotlib_positive_default.png" /></p>
<p>If your data is only positive or negative, then <code>prettyplotlib</code> will auto-detect
this and use a single-color colormap. The default for positive data is the
<code>reds</code> colormap.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">prettyplotlib</span> <span class="kn">as</span> <span class="nn">ppl</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ppl</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">ppl</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="kp">abs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;pcolormesh_prettyplotlib_positive.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib default scatterplot" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/pcolormesh_prettyplotlib_positive.png" /></p>
<p>And the default for negative data is the <code>blues</code> colormap.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">prettyplotlib</span> <span class="kn">as</span> <span class="nn">ppl</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ppl</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">ppl</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="kp">abs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;pcolormesh_prettyplotlib_negative.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib default scatterplot" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/pcolormesh_prettyplotlib_negative.png" /></p>
<h2>Add x or y tick&nbsp;labels</h2>
<p>Plus you can add x- and y-ticklabels&nbsp;directly!</p>
<p>Normally, when you add x- and y-ticklabels on <code>pcolormesh</code> in <code>matplotlib</code>,
they&#8217;re not centered on the blocks, and you have to do a lot of annoying work
just getting a label on each box. You have to specify the xticks explicitly,
since you want to label each&nbsp;box.</p>
<div class="highlight"><pre><span></span>xticks = range(10)
yticks = range(10)

xticklabels=string.uppercase[:10]
yticklabels=string.lowercase[-10:]

ax.set_xticks(xticks)
ax.set_xticklabels(xticklabels)

ax.set_yticks(yticks)
ax.set_yticklabels(yticklabels)
</pre></div>


<p>The full, <code>matplotlib</code> code&nbsp;is:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">prettyplotlib</span> <span class="kn">as</span> <span class="nn">ppl</span>
<span class="kn">from</span> <span class="nn">prettyplotlib</span> <span class="kn">import</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">string</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="kp">abs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>

<span class="n">xticks</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">yticks</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">xticklabels</span><span class="o">=</span><span class="n">string</span><span class="o">.</span><span class="n">uppercase</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
<span class="n">yticklabels</span><span class="o">=</span><span class="n">string</span><span class="o">.</span><span class="n">lowercase</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:]</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">xticks</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">xticklabels</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">yticks</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="n">yticklabels</span><span class="p">)</span>


<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;pcolormesh_matplotlib_positive_labels.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib default scatterplot" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/pcolormesh_matplotlib_positive_labels.png" /></p>
<p>But <code>prettyplotlib.pcolormesh</code> assumes that you want the <code>xticklabels</code> and
<code>yticklabels</code> on each block, and makes it easy to&nbsp;specify.</p>
<div class="highlight"><pre><span></span>ppl.pcolormesh(fig, ax, np.random.uniform(size=(10,10)),
               xticklabels=string.uppercase[:10],
               yticklabels=string.lowercase[-10:])
</pre></div>


<p>The full <code>prettyplotlib</code> code&nbsp;is,</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">prettyplotlib</span> <span class="kn">as</span> <span class="nn">ppl</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">string</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ppl</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">ppl</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> 
               <span class="n">xticklabels</span><span class="o">=</span><span class="n">string</span><span class="o">.</span><span class="n">uppercase</span><span class="p">[:</span><span class="mi">10</span><span class="p">],</span> 
               <span class="n">yticklabels</span><span class="o">=</span><span class="n">string</span><span class="o">.</span><span class="n">lowercase</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;pcolormesh_prettyplotlib_labels.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib default scatterplot" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/pcolormesh_prettyplotlib_labels.png" /></p>
<h3>Custom&nbsp;colormaps</h3>
<p>Or pick your own colormap! The diverging colormap <code>PRGn</code> or Purple and Green is
pretty nice. I usually use this website to look up the colormaps: <a href="http://bl.ocks.org/mbostock/5577023">Every
Colorbrewer Scale</a> (hover over the colors to get the name of the&nbsp;colormap)</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">prettyplotlib</span> <span class="kn">as</span> <span class="nn">ppl</span>
<span class="kn">import</span> <span class="nn">brewer2mpl</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">string</span>

<span class="n">green_purple</span> <span class="o">=</span> <span class="n">brewer2mpl</span><span class="o">.</span><span class="n">get_map</span><span class="p">(</span><span class="s1">&#39;PRGn&#39;</span><span class="p">,</span> <span class="s1">&#39;diverging&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span><span class="o">.</span><span class="n">mpl_colormap</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ppl</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">ppl</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> 
               <span class="n">xticklabels</span><span class="o">=</span><span class="n">string</span><span class="o">.</span><span class="n">uppercase</span><span class="p">[:</span><span class="mi">10</span><span class="p">],</span> 
               <span class="n">yticklabels</span><span class="o">=</span><span class="n">string</span><span class="o">.</span><span class="n">lowercase</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:],</span>
               <span class="n">cmap</span><span class="o">=</span><span class="n">green_purple</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;pcolormesh_prettyplotlib_labels_other_cmap_diverging.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib default scatterplot" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/pcolormesh_prettyplotlib_labels_other_cmap_diverging.png" /></p>
<p>Or if you want your own colormap for positive-only&nbsp;data:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">prettyplotlib</span> <span class="kn">as</span> <span class="nn">ppl</span>
<span class="kn">import</span> <span class="nn">brewer2mpl</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">string</span>

<span class="n">red_purple</span> <span class="o">=</span> <span class="n">brewer2mpl</span><span class="o">.</span><span class="n">get_map</span><span class="p">(</span><span class="s1">&#39;RdPu&#39;</span><span class="p">,</span> <span class="s1">&#39;Sequential&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">mpl_colormap</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ppl</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">ppl</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="kp">abs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)),</span>
               <span class="n">xticklabels</span><span class="o">=</span><span class="n">string</span><span class="o">.</span><span class="n">uppercase</span><span class="p">[:</span><span class="mi">10</span><span class="p">],</span> 
               <span class="n">yticklabels</span><span class="o">=</span><span class="n">string</span><span class="o">.</span><span class="n">lowercase</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:],</span>
               <span class="n">cmap</span><span class="o">=</span><span class="n">red_purple</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;pcolormesh_prettyplotlib_labels_other_cmap_sequential.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Matplotlib default scatterplot" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/pcolormesh_prettyplotlib_labels_other_cmap_sequential.png" /></p>
<h3>Log normalization or other&nbsp;parameters</h3>
<p>Plus, this will take the usual parameters of <code>pcolormesh</code> like if you want to
rescale your data to&nbsp;log-scale:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib.colors</span> <span class="kn">import</span> <span class="n">LogNorm</span>
<span class="o">...</span>
<span class="n">ppl</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="n">LogNorm</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">vmax</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">max</span><span class="p">()))</span>
</pre></div>


<p>The full <code>prettyplotlib</code> code&nbsp;is,</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">prettyplotlib</span> <span class="kn">as</span> <span class="nn">ppl</span>
<span class="kn">import</span> <span class="nn">brewer2mpl</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">string</span>
<span class="kn">from</span> <span class="nn">matplotlib.colors</span> <span class="kn">import</span> <span class="n">LogNorm</span>

<span class="n">red_purple</span> <span class="o">=</span> <span class="n">brewer2mpl</span><span class="o">.</span><span class="n">get_map</span><span class="p">(</span><span class="s1">&#39;RdPu&#39;</span><span class="p">,</span> <span class="s1">&#39;Sequential&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">mpl_colormap</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ppl</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">abs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">ppl</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span>
               <span class="n">xticklabels</span><span class="o">=</span><span class="n">string</span><span class="o">.</span><span class="n">uppercase</span><span class="p">[:</span><span class="mi">10</span><span class="p">],</span> 
               <span class="n">yticklabels</span><span class="o">=</span><span class="n">string</span><span class="o">.</span><span class="n">lowercase</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:],</span>
               <span class="n">cmap</span><span class="o">=</span><span class="n">red_purple</span><span class="p">,</span> 
               <span class="n">norm</span><span class="o">=</span><span class="n">LogNorm</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="kp">min</span><span class="p">()</span><span class="o">.</span><span class="kp">min</span><span class="p">(),</span> <span class="n">vmax</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="kp">max</span><span class="p">()</span><span class="o">.</span><span class="kp">max</span><span class="p">()))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;pcolormesh_prettyplotlib_labels_lognorm.png&#39;</span><span class="p">)</span>
</pre></div>


<p><img alt="Log-normalized heatmap" src="https://raw.github.com/olgabot/prettyplotlib/master/ipython_notebooks/pcolormesh_prettyplotlib_labels_lognorm.png" /></p>
<p>And now you can easily make beautiful&nbsp;heatmaps!</p>
<h2>That&#8217;s all,&nbsp;folks!</h2>
<p>That&#8217;s my introduction to <code>prettyplotlib</code> and why you need it. There are similar
examples for the other functions, but these ones for <code>ppl.scatter</code> and <code>ppl.pcolormesh</code> are the most&nbsp;extensive.</p>
            <a href="#" class="go-top">Go Top</a>
    <div class="comments">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = "sciencemeetproductivity"; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
<footer class="footer">
    <p>&copy; Olga Botvinnik &ndash;
        Built with <a href="https://github.com/PurePelicanTheme/pure-single">Pure Theme</a>
        for <a href="http://blog.getpelican.com/">Pelican</a>
    </p>
</footer>        </div>
    </div>
    </div>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>
    <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
        try {
            var pageTracker = _gat._getTracker("UA-53680167-1");
            pageTracker._trackPageview();
            } catch(err) {}
    </script>

</body>
</html>